"use strict";(globalThis.webpackChunkai_native_robotics_textbook=globalThis.webpackChunkai_native_robotics_textbook||[]).push([[2218],{5465:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"module-2-digital-twin/ch7-gazebo-ignition-setup-building","title":"ch7-gazebo-ignition-setup-building","description":"-----","source":"@site/docs/module-2-digital-twin/ch7-gazebo-ignition-setup-building.md","sourceDirName":"module-2-digital-twin","slug":"/module-2-digital-twin/ch7-gazebo-ignition-setup-building","permalink":"/physical-ai-textbook-2025/docs/module-2-digital-twin/ch7-gazebo-ignition-setup-building","draft":false,"unlisted":false,"editUrl":"https://github.com/Tayyaba10/physical-ai-textbook-2025/edit/main/docs/module-2-digital-twin/ch7-gazebo-ignition-setup-building.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"ch6-physics-simulation","permalink":"/physical-ai-textbook-2025/docs/module-2-digital-twin/ch6-physics-simulation"},"next":{"title":"ch8-simulating-sensors","permalink":"/physical-ai-textbook-2025/docs/module-2-digital-twin/ch8-simulating-sensors"}}');var s=e(4848),o=e(8453),a=e(7242);const l={},t=void 0,c={},d=[{value:"title: Ch7  Gazebo Ignition Setup &amp; World Building\r\nmodule: 2\r\nchapter: 7\r\nsidebar_label: Ch7: Gazebo Ignition Setup &amp; World Building\r\ndescription: Setting up Gazebo Ignition for robotics simulation and creating custom worlds\r\ntags: [gazebo, ignition, simulation, worldbuilding, sdf, robotics]\r\ndifficulty: intermediate\r\nestimated_duration: 90",id:"title-ch7--gazebo-ignition-setup--world-buildingmodule-2chapter-7sidebar_label-ch7-gazebo-ignition-setup--world-buildingdescription-setting-up-gazebo-ignition-for-robotics-simulation-and-creating-custom-worldstags-gazebo-ignition-simulation-worldbuilding-sdf-roboticsdifficulty-intermediateestimated_duration-90",level:2},{value:"Learning Outcomes",id:"learning-outcomes",level:2},{value:"Theory",id:"theory",level:2},{value:"Gazebo Ignition Architecture",id:"gazebo-ignition-architecture",level:3},{value:"SDF (Simulation Description Format)",id:"sdf-simulation-description-format",level:3},{value:"World Building Principles",id:"world-building-principles",level:3},{value:"StepbyStep Labs",id:"stepbystep-labs",level:2},{value:"Lab 1: Installing and Setting up Gazebo Ignition",id:"lab-1-installing-and-setting-up-gazebo-ignition",level:3},{value:"Lab 2: Creating a Basic World File",id:"lab-2-creating-a-basic-world-file",level:3},{value:"Lab 3: Creating a Custom World with Sensors",id:"lab-3-creating-a-custom-world-with-sensors",level:3},{value:"Lab 4: Integrating with ROS 2",id:"lab-4-integrating-with-ros-2",level:3},{value:"Runnable Code Example",id:"runnable-code-example",level:2},{value:"Python script to interact with the simulation (<code>gazebo_robot_controller.py</code>):",id:"python-script-to-interact-with-the-simulation-gazebo_robot_controllerpy",level:3},{value:"Miniproject",id:"miniproject",level:2},{value:"Summary",id:"summary",level:2}];function m(n){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"title-ch7--gazebo-ignition-setup--world-buildingmodule-2chapter-7sidebar_label-ch7-gazebo-ignition-setup--world-buildingdescription-setting-up-gazebo-ignition-for-robotics-simulation-and-creating-custom-worldstags-gazebo-ignition-simulation-worldbuilding-sdf-roboticsdifficulty-intermediateestimated_duration-90",children:"title: Ch7  Gazebo Ignition Setup & World Building\r\nmodule: 2\r\nchapter: 7\r\nsidebar_label: Ch7: Gazebo Ignition Setup & World Building\r\ndescription: Setting up Gazebo Ignition for robotics simulation and creating custom worlds\r\ntags: [gazebo, ignition, simulation, worldbuilding, sdf, robotics]\r\ndifficulty: intermediate\r\nestimated_duration: 90"}),"\n","\n",(0,s.jsx)(r.h1,{id:"gazebo-ignition-setup--world-building",children:"Gazebo Ignition Setup & World Building"}),"\n",(0,s.jsx)(r.h2,{id:"learning-outcomes",children:"Learning Outcomes"}),"\n",(0,s.jsx)(r.p,{children:"Install and configure Gazebo Ignition for robotics simulation\r\nUnderstand the SDF (Simulation Description Format) for world definition\r\nCreate custom worlds with static and dynamic objects\r\nConfigure sensors and physics properties for simulation\r\nIntegrate Gazebo with ROS 2 for robot simulation\r\nBuild complex simulation environments for specific robotics applications\r\nOptimize simulation performance for different use cases"}),"\n",(0,s.jsx)(r.h2,{id:"theory",children:"Theory"}),"\n",(0,s.jsx)(r.h3,{id:"gazebo-ignition-architecture",children:"Gazebo Ignition Architecture"}),"\n",(0,s.jsx)(r.p,{children:"Gazebo Ignition (now known as Ignition Gazebo) is a nextgeneration robotics simulation framework that provides a modular architecture for creating realistic simulation environments. It replaced the older Gazebo Classic with improved performance, modularity, and plugin architecture."}),"\n",(0,s.jsx)(a.A,{chart:"\ngraph TD;\n  A[Gazebo Ignition] > B[Simulation Core];\n  A > C[Rendering Engine];\n  A > D[Physics Engine];\n  A > E[Sensor System];\n  A > F[GUI Framework];\n  \n  B > G[Entity Component System];\n  C > H[OGRE 2.x];\n  D > I[DART/ODE/Bullet];\n  E > J[Sensor Plugins];\n  F > K[QML/Qt GUI];\n  \n  L[ROS 2 Integration] > M[ROS 2 Bridge];\n  M > N[Topic Mapping];\n  M > O[Service Mapping];\n  \n  style A fill:#4CAF50,stroke:#388E3C,color:#fff;\n  style M fill:#2196F3,stroke:#0D47A1,color:#fff;\n"}),"\n",(0,s.jsx)(r.h3,{id:"sdf-simulation-description-format",children:"SDF (Simulation Description Format)"}),"\n",(0,s.jsx)(r.p,{children:"SDF is the XMLbased format used to describe simulation environments in Gazebo. It defines:\r\nWorld structure and properties\r\nModels and their relationships\r\nPhysics engine settings\r\nLighting and environment properties\r\nSensors and plugins"}),"\n",(0,s.jsxs)(r.p,{children:["Key SDF elements:\r\n",(0,s.jsx)(r.code,{children:"<world>"}),": The root element for a simulation world\r\n",(0,s.jsx)(r.code,{children:"<model>"}),": Represents a physical object in the world\r\n",(0,s.jsx)(r.code,{children:"<link>"}),": A rigid body part of a model\r\n",(0,s.jsx)(r.code,{children:"<joint>"}),": Connection between links\r\n",(0,s.jsx)(r.code,{children:"<sensor>"}),": Sensor attached to a link\r\n",(0,s.jsx)(r.code,{children:"<plugin>"}),": Custom code to extend simulation functionality"]}),"\n",(0,s.jsx)(r.h3,{id:"world-building-principles",children:"World Building Principles"}),"\n",(0,s.jsx)(r.p,{children:"Creating effective simulation worlds requires understanding:\r\nSpatial relationships and scale\r\nObject mass and inertial properties\r\nCollision and visual geometries\r\nSensor placement and environment interaction\r\nPhysics properties that affect robot behavior"}),"\n",(0,s.jsx)(r.h2,{id:"stepbystep-labs",children:"StepbyStep Labs"}),"\n",(0,s.jsx)(r.h3,{id:"lab-1-installing-and-setting-up-gazebo-ignition",children:"Lab 1: Installing and Setting up Gazebo Ignition"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Install Gazebo Ignition"})," (Garden or newer):"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'# For Ubuntu 22.04\r\nsudo apt update\r\nsudo apt install y wget\r\nwget https://packages.osrfoundation.org/gazebo.gpg O /tmp/gazebo.gpg\r\nsudo mkdir p /etc/apt/keyrings\r\nsudo cp /tmp/gazebo.gpg /etc/apt/keyrings/gazeboarchivekeyring.gpg\r\necho "deb [arch=$(dpkg printarchitecture) signedby=/etc/apt/keyrings/gazeboarchivekeyring.gpg] http://packages.osrfoundation.org/gazebo/ubuntustable $(source /etc/osrelease && echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/gazebostable.list > /dev/null\r\nsudo apt update\r\nsudo apt install ignitiongarden\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Verify Installation"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"ign gazebo version\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Set up Gazebo resources"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"# Create a directory for custom worlds\r\nmkdir p ~/gazebo_worlds\r\nexport GZ_SIM_RESOURCE_PATH=$GZ_SIM_RESOURCE_PATH:~/gazebo_worlds\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"lab-2-creating-a-basic-world-file",children:"Lab 2: Creating a Basic World File"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Create a simple world file"})," (",(0,s.jsx)(r.code,{children:"simple_room.sdf"}),"):"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-xml",children:'<?xml version="1.0" ?>\r\n<sdf version="1.7">\r\n  <world name="simple_room">\r\n    <physics type="ode">\r\n      <max_step_size>0.001</max_step_size>\r\n      <real_time_factor>1.0</real_time_factor>\r\n      <real_time_update_rate>1000.0</real_time_update_rate>\r\n    </physics>\r\n\r\n    <! Lighting >\r\n    <light name="sun" type="directional">\r\n      <cast_shadows>true</cast_shadows>\r\n      <pose>0 0 10 0 0 0</pose>\r\n      <diffuse>0.8 0.8 0.8 1</diffuse>\r\n      <specular>0.2 0.2 0.2 1</specular>\r\n      <attenuation>\r\n        <range>1000</range>\r\n        <constant>0.9</constant>\r\n        <linear>0.01</linear>\r\n        <quadratic>0.001</quadratic>\r\n      </attenuation>\r\n      <direction>0.3 0.3 1</direction>\r\n    </light>\r\n\r\n    <! Ground plane >\r\n    <model name="ground_plane">\r\n      <static>true</static>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <plane>\r\n              <normal>0 0 1</normal>\r\n              <size>100 100</size>\r\n            </plane>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <plane>\r\n              <normal>0 0 1</normal>\r\n              <size>100 100</size>\r\n            </plane>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.7 0.7 0.7 1</diffuse>\r\n            <specular>0.1 0.1 0.1 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n\r\n    <! Walls >\r\n    <model name="wall_1">\r\n      <pose>5 0 2.5 0 0 0</pose>\r\n      <static>true</static>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>0.1 10 5</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>0.1 10 5</size>\r\n          </box>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.8 0.2 0.2 1</diffuse>\r\n            <specular>0.1 0.1 0.1 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n\r\n    <model name="wall_2">\r\n      <pose>5 0 2.5 0 0 0</pose>\r\n      <static>true</static>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>0.1 10 5</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>0.1 10 5</size>\r\n          </box>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.8 0.2 0.2 1</diffuse>\r\n            <specular>0.1 0.1 0.1 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n\r\n    <model name="wall_3">\r\n      <pose>0 5 2.5 0 0 1.5707</pose>\r\n      <static>true</static>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>0.1 10 5</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>0.1 10 5</size>\r\n          </box>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.2 0.8 0.2 1</diffuse>\r\n            <specular>0.1 0.1 0.1 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n\r\n    <model name="wall_4">\r\n      <pose>0 5 2.5 0 0 1.5707</pose>\r\n      <static>true</static>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>0.1 10 5</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>0.1 10 5</size>\r\n          </box>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.2 0.8 0.2 1</diffuse>\r\n            <specular>0.1 0.1 0.1 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n\r\n    <! Add a simple robot >\r\n    <model name="simple_robot">\r\n      <pose>0 0 0.2 0 0 0</pose>\r\n      <link name="chassis">\r\n        <inertial>\r\n          <mass>1.0</mass>\r\n          <inertia>\r\n            <ixx>0.01</ixx>\r\n            <iyy>0.01</iyy>\r\n            <izz>0.02</izz>\r\n          </inertia>\r\n        </inertial>\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>0.5 0.3 0.2</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>0.5 0.3 0.2</size>\r\n            </box>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.1 0.1 0.8 1</diffuse>\r\n            <specular>0.5 0.5 0.5 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n  </world>\r\n</sdf>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Launch the world"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"ign gazebo simple_room.sdf\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"lab-3-creating-a-custom-world-with-sensors",children:"Lab 3: Creating a Custom World with Sensors"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Create a more complex world file"})," (",(0,s.jsx)(r.code,{children:"office_world.sdf"}),") with sensors:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-xml",children:'<?xml version="1.0" ?>\r\n<sdf version="1.7">\r\n  <world name="office_world">\r\n    <physics type="ode">\r\n      <max_step_size>0.001</max_step_size>\r\n      <real_time_factor>1.0</real_time_factor>\r\n      <real_time_update_rate>1000.0</real_time_update_rate>\r\n    </physics>\r\n\r\n    <! Lighting >\r\n    <light name="sun" type="directional">\r\n      <cast_shadows>true</cast_shadows>\r\n      <pose>0 0 10 0 0 0</pose>\r\n      <diffuse>0.8 0.8 0.8 1</diffuse>\r\n      <specular>0.2 0.2 0.2 1</specular>\r\n      <direction>0.3 0.3 1</direction>\r\n    </light>\r\n\r\n    <! Ground plane with texture >\r\n    <model name="floor">\r\n      <static>true</static>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <plane>\r\n              <normal>0 0 1</normal>\r\n              <size>20 20</size>\r\n            </plane>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <plane>\r\n              <normal>0 0 1</normal>\r\n              <size>20 20</size>\r\n            </plane>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.8 0.8 0.8 1</diffuse>\r\n            <specular>0.1 0.1 0.1 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n\r\n    <! Furniture >\r\n    <model name="desk">\r\n      <pose>2 2 0.4 0 0 0</pose>\r\n      <static>true</static>\r\n      <link name="base">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>1.5 0.8 0.8</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>1.5 0.8 0.8</size>\r\n            </box>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.6 0.3 0.1 1</diffuse>\r\n            <specular>0.2 0.2 0.2 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n      <link name="top">\r\n        <pose>0 0 0.4 0 0 0</pose>\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>1.5 0.8 0.05</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>1.5 0.8 0.05</size>\r\n            </box>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.7 0.5 0.2 1</diffuse>\r\n            <specular>0.3 0.3 0.3 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n      <joint name="top_joint" type="fixed">\r\n        <parent>base</parent>\r\n        <child>top</child>\r\n      </joint>\r\n    </model>\r\n\r\n    <! Bookshelf >\r\n    <model name="bookshelf">\r\n      <pose>3 0 0.6 0 0 0</pose>\r\n      <static>true</static>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>0.3 1.2 1.2</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>0.3 1.2 1.2</size>\r\n            </box>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.4 0.2 0.0 1</diffuse>\r\n            <specular>0.1 0.1 0.1 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n\r\n    <! Add a robot with sensors >\r\n    <model name="sensor_robot">\r\n      <pose>2 3 0.3 0 0 0</pose>\r\n      <link name="chassis">\r\n        <inertial>\r\n          <mass>2.0</mass>\r\n          <inertia>\r\n            <ixx>0.1</ixx>\r\n            <iyy>0.1</iyy>\r\n            <izz>0.2</izz>\r\n          </inertia>\r\n        </inertial>\r\n        <collision name="collision">\r\n          <geometry>\r\n            <cylinder>\r\n              <radius>0.2</radius>\r\n              <length>0.3</length>\r\n            </cylinder>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <cylinder>\r\n              <radius>0.2</radius>\r\n              <length>0.3</length>\r\n            </cylinder>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.0 0.6 0.8 1</diffuse>\r\n            <specular>0.5 0.5 0.5 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n\r\n      <! Laser scanner >\r\n      <link name="laser_link">\r\n        <pose>0.15 0 0.1 0 0 0</pose>\r\n        <inertial>\r\n          <mass>0.1</mass>\r\n          <inertia>\r\n            <ixx>0.001</ixx>\r\n            <iyy>0.001</iyy>\r\n            <izz>0.001</izz>\r\n          </inertia>\r\n        </inertial>\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>0.05 0.05 0.05</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>0.05 0.05 0.05</size>\r\n            </box>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.8 0.1 0.1 1</diffuse>\r\n            <specular>0.8 0.8 0.8 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n\r\n      <joint name="laser_joint" type="fixed">\r\n        <parent>chassis</parent>\r\n        <child>laser_link</child>\r\n        <pose>0.15 0 0.1 0 0 0</pose>\r\n      </joint>\r\n\r\n      <! Attach laser sensor >\r\n      <sensor name="laser" type="ray">\r\n        <pose>0 0 0 0 0 0</pose>\r\n        <ray>\r\n          <scan>\r\n            <horizontal>\r\n              <samples>360</samples>\r\n              <resolution>1</resolution>\r\n              <min_angle>3.14159</min_angle>\r\n              <max_angle>3.14159</max_angle>\r\n            </horizontal>\r\n          </scan>\r\n          <range>\r\n            <min>0.1</min>\r\n            <max>10.0</max>\r\n            <resolution>0.01</resolution>\r\n          </range>\r\n        </ray>\r\n        <always_on>true</always_on>\r\n        <update_rate>10</update_rate>\r\n      </sensor>\r\n    </model>\r\n  </world>\r\n</sdf>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Launch the office world"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"ign gazebo office_world.sdf\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"lab-4-integrating-with-ros-2",children:"Lab 4: Integrating with ROS 2"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Install Ignition ROS 2 bridge"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"sudo apt install roshumblerosignbridge\r\nsudo apt install roshumbleigngazebo\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Create a launch file"})," (",(0,s.jsx)(r.code,{children:"launch/gazebo_with_robot.launch.py"}),"):"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"import os\r\nfrom ament_index_python.packages import get_package_share_directory\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument, IncludeLaunchDescription\r\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    # Get Gazebo launch file\r\n    gazebo_ros_share = get_package_share_directory('ros_gz_sim')\r\n    \r\n    # Declare launch arguments\r\n    world_file = DeclareLaunchArgument(\r\n        'world',\r\n        default_value=os.path.join(\r\n            get_package_share_directory('robot_description'),\r\n            'worlds',\r\n            'office_world.sdf'\r\n        ),\r\n        description='World file to load in Gazebo'\r\n    )\r\n    \r\n    # Include Gazebo launch\r\n    gazebo_launch = IncludeLaunchDescription(\r\n        PythonLaunchDescriptionSource(\r\n            os.path.join(gazebo_ros_share, 'launch', 'gz_sim.launch.py')\r\n        ),\r\n        launch_arguments={\r\n            'gz_args': ['r ', LaunchConfiguration('world')]\r\n        }.items()\r\n    )\r\n    \r\n    # Bridge for ROS 2 communication\r\n    bridge = Node(\r\n        package='ros_gz_bridge',\r\n        executable='parameter_bridge',\r\n        arguments=[\r\n            '/cmd_vel@geometry_msgs/msg/Twist@gz.msgs.Twist',\r\n            '/odom@nav_msgs/msg/Odometry@gz.msgs.Odometry',\r\n            '/scan@sensor_msgs/msg/LaserScan@gz.msgs.LaserScan',\r\n            '/tf@tf2_msgs/msg/TFMessage@gz.msgs.Pose_V'\r\n        ],\r\n        remapping=[\r\n            ('/scan', '/laser_scan'),\r\n            ('/tf', '/tf')\r\n        ],\r\n        output='screen'\r\n    )\r\n    \r\n    # Create launch description\r\n    ld = LaunchDescription()\r\n    ld.add_action(world_file)\r\n    ld.add_action(gazebo_launch)\r\n    ld.add_action(bridge)\r\n    \r\n    return ld\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"runnable-code-example",children:"Runnable Code Example"}),"\n",(0,s.jsx)(r.p,{children:"Here's a complete example with a more sophisticated world that includes a structured city environment:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-xml",children:'<?xml version="1.0" ?>\r\n<sdf version="1.7">\r\n  <world name="city_world">\r\n    <physics type="ode">\r\n      <max_step_size>0.001</max_step_size>\r\n      <real_time_factor>1.0</real_time_factor>\r\n      <real_time_update_rate>1000.0</real_time_update_rate>\r\n    </physics>\r\n\r\n    <! Sky >\r\n    <scene>\r\n      <sky>\r\n        <clouds>\r\n          <speed>1</speed>\r\n          <direction>0.8 0.1 0</direction>\r\n        </clouds>\r\n      </sky>\r\n    </scene>\r\n\r\n    <! Lighting >\r\n    <light name="sun" type="directional">\r\n      <cast_shadows>true</cast_shadows>\r\n      <pose>0 0 10 0 0 0</pose>\r\n      <diffuse>0.8 0.8 0.8 1</diffuse>\r\n      <specular>0.2 0.2 0.2 1</specular>\r\n      <direction>0.3 0.3 1</direction>\r\n    </light>\r\n\r\n    <! Ground plane with road markings >\r\n    <model name="ground_plane">\r\n      <static>true</static>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <plane>\r\n              <normal>0 0 1</normal>\r\n              <size>100 100</size>\r\n            </plane>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <plane>\r\n              <normal>0 0 1</normal>\r\n              <size>100 100</size>\r\n            </plane>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.3 0.3 0.3 1</diffuse>\r\n            <specular>0.1 0.1 0.1 1</specular>\r\n          </material>\r\n          <! Road markings >\r\n          <plugin filename="gzsimvisualsystem" name="gz::sim::systems::Visual">\r\n            <visual>\r\n              <geometry type="box">\r\n                <box size="20 0.2 0.01" />\r\n              </geometry>\r\n              <pose>0 0 0.01 0 0 0</pose>\r\n              <material>\r\n                <diffuse>1 1 1 1</diffuse>\r\n              </material>\r\n            </visual>\r\n          </plugin>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n\r\n    <! Buildings >\r\n    <model name="building_1">\r\n      <pose>5 5 5 0 0 0</pose>\r\n      <static>true</static>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>6 6 10</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>6 6 10</size>\r\n            </box>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.7 0.7 0.8 1</diffuse>\r\n            <specular>0.2 0.2 0.2 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n\r\n    <model name="building_2">\r\n      <pose>8 3 7 0 0 0</pose>\r\n      <static>true</static>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>8 4 14</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>8 4 14</size>\r\n            </box>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.6 0.6 0.7 1</diffuse>\r\n            <specular>0.1 0.1 0.1 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n\r\n    <! Trees >\r\n    <model name="tree_1">\r\n      <pose>8 8 1.5 0 0 0</pose>\r\n      <static>true</static>\r\n      <link name="trunk">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <cylinder>\r\n              <radius>0.2</radius>\r\n              <length>3</length>\r\n            </cylinder>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <cylinder>\r\n              <radius>0.2</radius>\r\n              <length>3</length>\r\n            </cylinder>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.4 0.2 0.1 1</diffuse>\r\n            <specular>0.1 0.1 0.1 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n      <link name="leaves">\r\n        <pose>0 0 2 0 0 0</pose>\r\n        <collision name="collision">\r\n          <geometry>\r\n            <sphere>\r\n              <radius>1.5</radius>\r\n            </sphere>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <sphere>\r\n              <radius>1.5</radius>\r\n            </sphere>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.1 0.6 0.2 1</diffuse>\r\n            <specular>0.1 0.1 0.1 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n      <joint name="leaves_joint" type="fixed">\r\n        <parent>trunk</parent>\r\n        <child>leaves</child>\r\n      </joint>\r\n    </model>\r\n\r\n    <! Robotic platform with sensors >\r\n    <model name="autonomous_robot">\r\n      <pose>0 0 0.3 0 0 0</pose>\r\n      <link name="base_link">\r\n        <inertial>\r\n          <mass>10.0</mass>\r\n          <inertia>\r\n            <ixx>1.0</ixx>\r\n            <iyy>1.0</iyy>\r\n            <izz>1.8</izz>\r\n          </inertia>\r\n        </inertial>\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>0.8 0.6 0.3</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>0.8 0.6 0.3</size>\r\n            </box>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.1 0.1 0.9 1</diffuse>\r\n            <specular>0.5 0.5 0.5 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n\r\n      <! Differential drive wheels >\r\n      <link name="left_wheel">\r\n        <pose>0.2 0.4 0.15 0 0 0</pose>\r\n        <inertial>\r\n          <mass>0.5</mass>\r\n          <inertia>\r\n            <ixx>0.01</ixx>\r\n            <iyy>0.01</iyy>\r\n            <izz>0.02</izz>\r\n          </inertia>\r\n        </inertial>\r\n        <collision name="collision">\r\n          <geometry>\r\n            <cylinder>\r\n              <radius>0.15</radius>\r\n              <length>0.1</length>\r\n            </cylinder>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <cylinder>\r\n              <radius>0.15</radius>\r\n              <length>0.1</length>\r\n            </cylinder>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.2 0.2 0.2 1</diffuse>\r\n            <specular>0.8 0.8 0.8 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n\r\n      <link name="right_wheel">\r\n        <pose>0.2 0.4 0.15 0 0 0</pose>\r\n        <inertial>\r\n          <mass>0.5</mass>\r\n          <inertia>\r\n            <ixx>0.01</ixx>\r\n            <iyy>0.01</iyy>\r\n            <izz>0.02</izz>\r\n          </inertia>\r\n        </inertial>\r\n        <collision name="collision">\r\n          <geometry>\r\n            <cylinder>\r\n              <radius>0.15</radius>\r\n              <length>0.1</length>\r\n            </cylinder>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <cylinder>\r\n              <radius>0.15</radius>\r\n              <length>0.1</length>\r\n            </cylinder>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.2 0.2 0.2 1</diffuse>\r\n            <specular>0.8 0.8 0.8 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n\r\n      <joint name="left_wheel_joint" type="continuous">\r\n        <parent>base_link</parent>\r\n        <child>left_wheel</child>\r\n        <axis>\r\n          <xyz>0 1 0</xyz>\r\n        </axis>\r\n      </joint>\r\n\r\n      <joint name="right_wheel_joint" type="continuous">\r\n        <parent>base_link</parent>\r\n        <child>right_wheel</child>\r\n        <axis>\r\n          <xyz>0 1 0</xyz>\r\n        </axis>\r\n      </joint>\r\n\r\n      <! Sensors >\r\n      <! RGBD Camera >\r\n      <link name="camera_link">\r\n        <pose>0.3 0 0.2 0 0 0</pose>\r\n        <inertial>\r\n          <mass>0.1</mass>\r\n          <inertia>\r\n            <ixx>0.001</ixx>\r\n            <iyy>0.001</iyy>\r\n            <izz>0.001</izz>\r\n          </inertia>\r\n        </inertial>\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>0.05 0.08 0.05</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>0.05 0.08 0.05</size>\r\n            </box>\r\n          </geometry>\r\n          <material>\r\n            <diffuse>0.8 0.1 0.1 1</diffuse>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n\r\n      <joint name="camera_joint" type="fixed">\r\n        <parent>base_link</parent>\r\n        <child>camera_link</child>\r\n      </joint>\r\n\r\n      <sensor name="rgbd_camera" type="rgbd_camera">\r\n        <pose>0 0 0 0 0 0</pose>\r\n        <camera>\r\n          <horizontal_fov>1.047</horizontal_fov> <! 60 degrees >\r\n          <image>\r\n            <width>640</width>\r\n            <height>480</height>\r\n          </image>\r\n          <clip>\r\n            <near>0.1</near>\r\n            <far>10.0</far>\r\n          </clip>\r\n        </camera>\r\n        <always_on>true</always_on>\r\n        <update_rate>15</update_rate>\r\n      </sensor>\r\n\r\n      <! IMU Sensor >\r\n      <sensor name="imu_sensor" type="imu">\r\n        <pose>0 0 0 0 0 0</pose>\r\n        <always_on>true</always_on>\r\n        <update_rate>100</update_rate>\r\n      </sensor>\r\n    </model>\r\n  </world>\r\n</sdf>\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"python-script-to-interact-with-the-simulation-gazebo_robot_controllerpy",children:["Python script to interact with the simulation (",(0,s.jsx)(r.code,{children:"gazebo_robot_controller.py"}),"):"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"#!/usr/bin/env python3\r\n\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom geometry_msgs.msg import Twist\r\nfrom sensor_msgs.msg import LaserScan\r\nfrom nav_msgs.msg import Odometry\r\nimport math\r\n\r\nclass GazeboRobotController(Node):\r\n    def __init__(self):\r\n        super().__init__('gazebo_robot_controller')\r\n        \r\n        # Create publisher for velocity commands\r\n        self.cmd_vel_pub = self.create_publisher(Twist, '/cmd_vel', 10)\r\n        \r\n        # Create subscriber for laser scan\r\n        self.scan_sub = self.create_subscription(\r\n            LaserScan, '/laser_scan', self.scan_callback, 10)\r\n        \r\n        # Create subscriber for odometry\r\n        self.odom_sub = self.create_subscription(\r\n            Odometry, '/odom', self.odom_callback, 10)\r\n        \r\n        # Timer for control loop\r\n        self.timer = self.create_timer(0.1, self.control_loop)\r\n        \r\n        # Robot state\r\n        self.scan_data = None\r\n        self.odom_data = None\r\n        self.linear_vel = 0.5\r\n        self.angular_vel = 0.5\r\n        \r\n        self.get_logger().info('Gazebo Robot Controller initialized')\r\n    \r\n    def scan_callback(self, msg):\r\n        self.scan_data = msg\r\n    \r\n    def odom_callback(self, msg):\r\n        self.odom_data = msg\r\n    \r\n    def control_loop(self):\r\n        cmd = Twist()\r\n        \r\n        if self.scan_data is not None:\r\n            # Get frontfacing ranges (\xb130 degrees)\r\n            front_ranges = self.scan_data.ranges[\r\n                len(self.scan_data.ranges)//2  30 : \r\n                len(self.scan_data.ranges)//2 + 30]\r\n            \r\n            # Filter out invalid values\r\n            front_ranges = [r for r in front_ranges if not (math.isinf(r) or math.isnan(r))]\r\n            \r\n            if front_ranges:\r\n                min_distance = min(front_ranges)\r\n                \r\n                # Obstacle avoidance\r\n                if min_distance < 1.0:\r\n                    cmd.linear.x = 0.0\r\n                    cmd.angular.z = self.angular_vel\r\n                    self.get_logger().info(f'Obstacle detected at {min_distance:.2f}m, turning...')\r\n                else:\r\n                    cmd.linear.x = self.linear_vel\r\n                    cmd.angular.z = 0.0\r\n                    self.get_logger().info(f'Moving forward, obstacle distance: {min_distance:.2f}m')\r\n            else:\r\n                # If no valid readings, stop\r\n                cmd.linear.x = 0.0\r\n                cmd.angular.z = 0.0\r\n        else:\r\n            # If no scan data yet, don't move\r\n            cmd.linear.x = 0.0\r\n            cmd.angular.z = 0.0\r\n        \r\n        self.cmd_vel_pub.publish(cmd)\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    controller = GazeboRobotController()\r\n    \r\n    try:\r\n        rclpy.spin(controller)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        controller.destroy_node()\r\n        rclpy.shutdown()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,s.jsx)(r.h2,{id:"miniproject",children:"Miniproject"}),"\n",(0,s.jsx)(r.p,{children:"Create a complete warehouse simulation environment with the following features:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"A warehouse layout with shelves, corridors, and workstations"}),"\n",(0,s.jsx)(r.li,{children:"A mobile robot with appropriate sensors (lidar, RGB camera)"}),"\n",(0,s.jsx)(r.li,{children:"Moving obstacles (simulated people or other robots)"}),"\n",(0,s.jsx)(r.li,{children:"A navigation task where the robot must reach different waypoints"}),"\n",(0,s.jsx)(r.li,{children:"A launch file that starts the entire simulation with ROS 2 bridge"}),"\n",(0,s.jsx)(r.li,{children:"A controller node that enables the robot to navigate autonomously"}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Your simulation should include:\r\nCustom SDF world file for the warehouse\r\nRobot model with sensors\r\nAt least 3 moving obstacles\r\nNavigation controller to move between waypoints\r\nCollision avoidance\r\nPerformance metrics logging"}),"\n",(0,s.jsx)(r.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(r.p,{children:"This chapter covered the setup and use of Gazebo Ignition for robotics simulation:"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Installation and Configuration"}),": Setting up Gazebo Ignition and understanding its architecture\r\n",(0,s.jsx)(r.strong,{children:"SDF World Building"}),": Creating simulation environments using the Simulation Description Format\r\n",(0,s.jsx)(r.strong,{children:"Sensor Integration"}),": Adding sensors to robots in simulation\r\n",(0,s.jsx)(r.strong,{children:"ROS 2 Integration"}),": Connecting Gazebo with ROS 2 for realistic robotics simulation\r\n",(0,s.jsx)(r.strong,{children:"Environment Design"}),": Creating complex simulation worlds with static and dynamic objects"]}),"\n",(0,s.jsx)(r.p,{children:"Gazebo Ignition provides a powerful platform for developing, testing, and validating robotics applications in a safe, controlled environment before deploying to real hardware."})]})}function u(n={}){const{wrapper:r}={...(0,o.R)(),...n.components};return r?(0,s.jsx)(r,{...n,children:(0,s.jsx)(m,{...n})}):m(n)}}}]);